<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->
        <link rel="stylesheet" href="{{url_for('static', filename='css/main.css')}}">
        <title>Weather App</title>
        <style>
            .weather-map-link {
                font-size: 30px;
                font-weight: bold;
                display: block;
                margin-top: 20px;
            }
        </style>
    </head>
    <body>
        <main> 
            <div class="container">
                <div class="main-header">
                    <h1>Weather Radar08</h1>
                </div>
                <div class="background">
                    <img src="/static/assets/weather-home-background.jpg" alt="" class="desktop-background">
                </div>
                <div class="search-bar"> 
                    <img class="search-icon" src="/static/assets/search.png" alt="">
                    <form class="search" action="/home" autocomplete="off" method="post">
                        <input type="text" name="search" id="search" tabindex="1" placeholder="Search for a city">
                        <button type="submit"></button>
                    </form>
                </div>
                <div class="location-button">
                    <button id="location-btn">Get My Location</button>
                </div>
                <div class="footer">
                    <a href="https://www.ventusky.com/?p=-27;176;1&l=temperature-2m" class="weather-map-link">Weather Map</a>
                </div>
                <button id="share-button">Share</button>
            </div>
        </main>

        <script>
            // Get user's location and redirect to weather page
            document.getElementById("location-btn").addEventListener("click", function() {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(function(position) {
                        const lat = position.coords.latitude;
                        const lon = position.coords.longitude;
                        window.location.href = "/" + lat + "/" + lon; // Redirect to weather page with latitude and longitude
                    });
                } else {
                    alert("Geolocation is not supported by this browser.");
                }
            });
        </script>
    </body>
</html>